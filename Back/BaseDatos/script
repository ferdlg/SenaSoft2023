DROP DATABASE IF EXISTS nexos_db;
CREATE DATABASE nexos_db;
USE nexos_db;

CREATE TABLE ROLES(
	id_rol INT auto_increment NOT NULL,
    nombre_rol VARCHAR(20),
    primary key(id_rol)
);



CREATE TABLE DEPARTAMENTOS(
	id_departamento INT  NOT NULL, 
    primary key (id_departamento),
    codigo_departamento INT,
    nombre_departamento VARCHAR(30),
    fecha_hora_crear  DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    fecha_hora_modificar DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE CIUDADES(
	id_ciudad INT NOT NULL, 
    primary key (id_ciudad),
    id_departamento_fk INT NOT NULL,
    nombre_ciudad VARCHAR(30),
    foreign key(id_departamento_fk) references departamentos (id_departamento)
);
CREATE TABLE TIPO_DOCUMENTO(
	id_tipo_documento INT auto_increment NOT NULL,
	nombre_tipo_documento VARCHAR(10) NOT NULL,
    primary key(id_tipo_documento)
);
CREATE TABLE EMPLEADOS (
	id_empleado INT AUTO_INCREMENT NOT NULL,
    primary key (id_empleado),
    id_tipo_documento_fk INT NOT NULL,
    numero_documento INT, 
    nombres_empleado VARCHAR(30),
    apellidos_empleado VARCHAR(50),
    id_departamento_fk INT NOT NULL,
    id_ciudad_fk INT NOT NULL,
    direccion VARCHAR(50),
    email VARCHAR(50),
    telefono INT,
	fecha_hora_crear  DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    fecha_hora_modificar DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    foreign key(id_departamento_fk) references departamentos (id_departamento),
    foreign key(id_ciudad_fk) references ciudades(id_ciudad), 
    foreign key(id_tipo_documento_fk) references tipo_documento (id_tipo_documento)
);

INSERT INTO tipo_documento (nombre_tipo_documento) VALUES ('CC'),('CE'),('TI'),('RC')
